<script setup lang="ts">
import { ref } from 'vue'

interface IconItem {
  icon: string
  text: string
  key: string
}

// å›¾æ ‡æ•°æ® - å°†ç´ æåº“å’Œæ™ºèƒ½ä½“æ”¾åœ¨åŒä¸€åˆ—è¡¨ä¸­
const iconList = ref<IconItem[]>([
  {
    icon: 'ğŸ–¼ï¸',
    text: 'ç´ æåº“',
    key: 'material-library',
  },
  {
    icon: 'âš›ï¸',
    text: 'Aiæ™ºèƒ½ä½“',
    key: 'ai-agent',
  },
  {
    icon: 'ğŸ¤–',
    text: 'å°é²¸æ•°å­—äºº',
    key: 'digital-human',
  },
  {
    icon: 'ğŸŒï¸',
    text: 'çº¿ä¸‹',
    key: 'offline',
  },
  {
    icon: 'ğŸ’¬',
    text: 'VIPå­¦ä¹ ç¾¤',
    key: 'vip-group',
  },
  {
    icon: 'ğŸ“º',
    text: 'ç›´æ’­é—´',
    key: 'live-room',
  },
])

// äº‹ä»¶å¤„ç†
function handleIconClick(item: IconItem) {
  console.log('ç‚¹å‡»å›¾æ ‡:', item.text, item.key)
}

// æš´éœ²æ–¹æ³•ç»™çˆ¶ç»„ä»¶
defineExpose({
  handleIconClick,
})
</script>

<template>
  <view class="icon-slider rounded-xl py-4">
    <scroll-view
      class="icons-scroll"
      :scroll-x="true"
      :show-scrollbar="false"
      enhanced="true"
    >
      <view class="flex items-center">
        <view
          v-for="(item, index) in iconList"
          :key="index"
          class="icon-item mr-8 min-w-16 flex flex-col items-center"
          @click="handleIconClick(item)"
        >
          <view class="icon-wrapper relative mb-2">
            <view
              class="icon h-16 w-16 flex items-center justify-center rounded-lg text-xl transition-colors duration-300"
            >
              {{ item.icon }}
            </view>
          </view>
          <text class="icon-text text-xs">{{ item.text }}</text>
        </view>
      </view>
    </scroll-view>
  </view>
</template>

<style lang="scss" scoped>
.icons-scroll {
  // éšè—æ»šåŠ¨æ¡
  &::-webkit-scrollbar {
    display: none;
  }

  // ç¡®ä¿å†…å®¹å¯ä»¥æ»šåŠ¨
  white-space: nowrap;
}

.icon-item {
  // ç‚¹å‡»æ•ˆæœ
  transition: transform 0.2s ease;

  &:active {
    transform: scale(0.95);
  }

  &:last-child {
    margin-right: 0;
  }
}

.icon {
  // ä½¿ç”¨ä¸»é¢˜è‰²
  background-color: var(--bg-secondary);
  color: var(--text-primary);

  &:active {
    background-color: var(--bg-tertiary);
  }
}

.icon-text {
  color: var(--text-primary);
  font-size: 20rpx;
  line-height: 1.2;
  // æ–‡å­—å®Œæ•´æ˜¾ç¤ºï¼Œä¸çœç•¥
  white-space: nowrap;
  text-align: center;
}
</style>
